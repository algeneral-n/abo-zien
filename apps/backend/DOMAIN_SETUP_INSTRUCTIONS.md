# ???? ?????????? ?????????????? `zien-ai.app` ?????????? ??????

## ???? **??????????????:**

### **1?????? ?????????? Subdomain ?????????? ??????:**

?????????? ?????????? subdomain ?????????? ???????? ??????:
- `api.zien-ai.app` (???????? ????)
- ???? `backend.zien-ai.app`
- ???? `server.zien-ai.app`

---

### **2?????? ?????????? DNS Records:**

#### **?????????????? ????????????: Cloudflare Tunnel (???????? ???? - ?????????? 100%)**

**????????????????:**
- ??? ?????????? ????????????
- ??? HTTPS ????????????
- ??? ???????? ????????
- ??? ???? ?????????? ?????? ports
- ??? ???????? ?????? ???? IP address ??????????

**??????????????:**

1. **?????????? cloudflared:**
   ```bash
   # Windows: ?????????? ????
   # https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/installation/
   ```

2. **?????????? ????????????:**
   ```bash
   cloudflared tunnel login
   ```
   - ???????????? ??????????
   - ???????? ?????????????? `zien-ai.app`
   - ???????????? ?????? ??????????

3. **?????????? Tunnel:**
   ```bash
   cloudflared tunnel create rare4n-backend
   ```

4. **?????????? DNS Record:**
   ```bash
   cloudflared tunnel route dns rare4n-backend api.zien-ai.app
   ```

5. **?????????? ?????? ??????????????:**
   ```bash
   # ???? ???????? backend/
   # ?????????? ??????: config.yml
   ```
   
   ?????????? `config.yml`:
   ```yaml
   tunnel: rare4n-backend
   credentials-file: C:\Users\Admin\.cloudflared\<tunnel-id>.json
   
   ingress:
     - hostname: api.zien-ai.app
       service: http://localhost:5000
     - service: http_status:404
   ```

6. **?????????? Tunnel:**
   ```bash
   cloudflared tunnel run rare4n-backend
   ```

7. **?????????? Tunnel ?????????? (?????????????? - ?????????? ????????????):**
   ```bash
   cloudflared service install
   ```

---

#### **?????????????? ??????????????: DNS A Record (?????????? IP ????????)**

**??????????????????:**
- ??? IP address ???????? (Static IP)
- ??? ?????? port 5000 ???? Firewall
- ??? SSL certificate (Let's Encrypt)

**??????????????:**

1. **???????????? ?????? IP address ??????????????:**
   ```bash
   # Windows:
   ipconfig
   # ???????? ???? IPv4 Address
   ```

2. **?????????? DNS A Record ???? Squarespace:**
   - ???????? ?????? DNS settings
   - ?????? A Record:
     ```
     Type: A
     Host: api
     Points to: [IP address ??????????????]
     TTL: 3600
     ```

3. **?????? Port ???? Firewall:**
   ```bash
   # Windows Firewall:
   # Control Panel > Windows Defender Firewall > Advanced Settings
   # Inbound Rules > New Rule > Port > TCP > 5000 > Allow
   ```

4. **?????????? SSL (Let's Encrypt):**
   ```bash
   # ?????????? certbot
   # Windows: ?????????????? WSL ???? certbot-win
   ```

---

#### **?????????????? ??????????????: Dynamic DNS (?????? IP ??????????)**

**?????? IP address ???????????? ???????????? Dynamic DNS:**

1. **?????????????? ???????? ?????? No-IP ???? DuckDNS:**
   - ?????? ???? noip.com
   - ???????? hostname: `rare4n-backend.ddns.net`
   - ?????? No-IP DUC (Dynamic Update Client)

2. **?????????? DNS CNAME:**
   ```
   Type: CNAME
   Host: api
   Points to: rare4n-backend.ddns.net
   TTL: 3600
   ```

---

### **3?????? ?????????? ?????????? ??????????????:**

#### **??) ?????????? `backend/src/server.js`:**

?????????? ?????? ???????? ????????????! ???

#### **??) ?????????? `mobile/config/api.ts`:**

```typescript
// Production API
const PROD_API = 'https://api.zien-ai.app/api'; // ??? ?????????????? ????????????
```

---

### **4?????? ???????????? ??????????????:**

#### **???? ??????????????:**
????????: `https://api.zien-ai.app/health`

?????? ???? ??????:
```json
{
  "status": "online",
  "database": "connected",
  "uptime": 123,
  "memory": {...},
  "environment": "production",
  "timestamp": "..."
}
```

#### **???? Terminal:**
```bash
curl https://api.zien-ai.app/health
```

---

## ???? **??????????????:**

### **??? ???????????? Cloudflare Tunnel:**

**????????????**
1. ??? ?????????? 100%
2. ??? HTTPS ????????????
3. ??? ???? ?????????? IP ????????
4. ??? ???? ?????????? ?????? ports
5. ??? ???????? ????????
6. ??? ?????? ??????????????

---

## ???? **?????????? ?????????? (Cloudflare Tunnel):**

1. **?????????? cloudflared:**
   ```bash
   # ?????????? ???? cloudflare.com
   ```

2. **?????????? ????????????:**
   ```bash
   cloudflared tunnel login
   ```

3. **?????????? Tunnel:**
   ```bash
   cloudflared tunnel create rare4n-backend
   ```

4. **?????????? DNS:**
   ```bash
   cloudflared tunnel route dns rare4n-backend api.zien-ai.app
   ```

5. **?????????? Tunnel:**
   ```bash
   cloudflared tunnel run rare4n-backend
   ```

6. **?????????? `mobile/config/api.ts`:**
   ```typescript
   const PROD_API = 'https://api.zien-ai.app/api';
   ```

7. **????????????:**
   ```bash
   curl https://api.zien-ai.app/health
   ```

---

## ?????? **?????????????? ????????:**

1. **DNS Propagation:**
   - ???? ???????????? 5-30 ?????????? ?????? ???????? ??????????????
   - ???????????? `nslookup api.zien-ai.app` ????????????

2. **SSL Certificate:**
   - Cloudflare Tunnel ???????? SSL ???????????????? ???
   - ???? ?????????? Let's Encrypt

3. **Firewall:**
   - Cloudflare Tunnel ???? ?????????? ?????? ports ???
   - ?????????? ?????? ???????? ?????? localhost ??????

4. **IP Changes:**
   - Cloudflare Tunnel ???????? ?????? ???? IP ???????? ???
   - ???? ?????????? Dynamic DNS

---

## ???? **????????????:**

?????????? ?????? ?????????? ???????????? ????:
- ??? Security Headers
- ??? CORS ??????????
- ??? Error Handling
- ??? Rate Limiting (???????? ????????????)

---

## ???? **??????????????:**

**??????????????:** `zien-ai.app`
**Subdomain ?????????? ??????:** `api.zien-ai.app`
**?????????????? ???????????? ??????:** Cloudflare Tunnel
**??????????????:** ?????????? 100%

**??????????????:**
1. ??? ?????????? cloudflared
2. ??? ?????????? ????????????
3. ??? ?????????? tunnel
4. ??? ?????????? DNS
5. ??? ?????????? tunnel
6. ??? ?????????? mobile config
7. ??? ????????????

---

## ???? **???????? ????????????**

???????? ?????????????? 1: ?????????? cloudflared










