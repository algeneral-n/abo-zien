# ??? ???? ???? ???????? ???? Boot, Login, Home

## ???? **Boot Screen (boot.tsx)**

### ??? **??????????:**
- Face ID authentication
- Password authentication (?????? ???? ????????????)
- RAREKernel import
- API call to `/boot/check`
- API call to `/auth/login`
- AsyncStorage for token
- Navigation to `/login` after success

### ??? **????????:**

1. **Kernel Initialization:**
   ```typescript
   // ??? ????????:
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     if (!kernel.state.initialized) {
       kernel.init().then(() => {
         kernel.start();
       });
     }
   }, []);
   ```

2. **CognitiveLoop Initialization:**
   ```typescript
   // ??? ????????:
   import { CognitiveLoop } from '../../core/CognitiveLoop';
   
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     const cognitiveLoop = CognitiveLoop.getInstance();
     cognitiveLoop.init(kernel);
   }, []);
   ```

3. **RARE Character Image:**
   ```typescript
   // ??? ????????:
   import RARECharacter from '../components/RARECharacter';
   
   // ???? JSX:
   <RARECharacter size={150} animation="idle" />
   ```

4. **Names Tunnel:**
   ```typescript
   // ??? ????????:
   import NamesTunnel from '../components/NamesTunnel';
   
   // ???? JSX:
   <NamesTunnel />
   ```

5. **API_BASE Configuration:**
   ```typescript
   // ??? ??????: ???????????? localhost
   const API_BASE = 'http://localhost:5000/api';
   
   // ??? ?????? ???? ????????:
   const API_BASE = 'http://192.168.1.X:5000/api'; // IP address
   ```

6. **Error Handling:**
   - ??? ???? ???????? retry logic
   - ??? ???? ???????? network error handling
   - ??? ???? ???????? loading states ??????????

---

## ???? **Login Screen (login.tsx)**

### ??? **??????????:**
- Google menu (popup)
- Voice toggle button
- RARECharacter component
- NamesTunnel component
- RAREKernel import
- API call to `/auth/login`
- Navigation to `/home` after success

### ??? **????????:**

1. **CognitiveLoop Import Error:**
   ```typescript
   // ??? ?????? ???? ?????????? 74:
   const cognitiveLoop = CognitiveLoop.getInstance();
   
   // ??? ?????? ??????????:
   import { CognitiveLoop } from '../../core/CognitiveLoop';
   ```

2. **Kernel Initialization:**
   ```typescript
   // ??? ????????:
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     if (!kernel.state.initialized) {
       kernel.init().then(() => {
         kernel.start();
       });
     }
   }, []);
   ```

3. **CognitiveLoop Initialization:**
   ```typescript
   // ??? ????????:
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     const cognitiveLoop = CognitiveLoop.getInstance();
     if (!cognitiveLoop.initialized) {
       cognitiveLoop.init(kernel);
     }
   }, []);
   ```

4. **API_BASE Configuration:**
   ```typescript
   // ??? ??????: ???????????? localhost
   const API_BASE = 'http://localhost:5000/api';
   
   // ??? ?????? ???? ????????:
   const API_BASE = 'http://192.168.1.X:5000/api'; // IP address
   ```

5. **Error Handling:**
   - ??? ???? ???????? error messages ??????????
   - ??? ???? ???????? retry logic
   - ??? ???? ???????? network error handling

6. **Google OAuth Implementation:**
   - ??? ???? ???????? Google OAuth SDK integration
   - ??? ???? ???????? Apple Sign In integration
   - ??? ?????? API call ???????? OAuth flow ??????????

---

## ???? **Home Screen (home.tsx)**

### ??? **??????????:**
- 3 buttons (services, voice, settings)
- Services menu (popup)
- RARECharacter component
- NamesTunnel component
- RAREKernel import
- Voice toggle functionality
- Navigation to services

### ??? **????????:**

1. **Kernel Initialization:**
   ```typescript
   // ??? ????????:
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     if (!kernel.state.initialized) {
       kernel.init().then(() => {
         kernel.start();
       });
     }
   }, []);
   ```

2. **CognitiveLoop Initialization:**
   ```typescript
   // ??? ????????:
   import { CognitiveLoop } from '../../core/CognitiveLoop';
   
   useEffect(() => {
     const kernel = RAREKernel.getInstance();
     const cognitiveLoop = CognitiveLoop.getInstance();
     if (!cognitiveLoop.initialized) {
       cognitiveLoop.init(kernel);
     }
   }, []);
   ```

3. **Event Subscriptions Cleanup:**
   ```typescript
   // ??? ????????: cleanup ???? useEffect
   useEffect(() => {
     const unsubscribe = kernel.on('voice:listening', (event) => {
       setVoiceEnabled(true);
     });
     
     // ??? ?????? ??????????:
     return () => {
       unsubscribe();
     };
   }, []);
   ```

4. **API_BASE Configuration:**
   ```typescript
   // ??? ??????: ???????????? localhost
   const API_BASE = 'http://localhost:5000/api';
   
   // ??? ?????? ???? ????????:
   const API_BASE = 'http://192.168.1.X:5000/api'; // IP address
   ```

5. **Authentication Check:**
   ```typescript
   // ??? ????????: ?????? authentication ?????? ?????? ????????????
   useEffect(() => {
     const checkAuth = async () => {
       const token = await AsyncStorage.getItem('authToken');
       if (!token) {
         router.replace('/boot');
       }
     };
     checkAuth();
   }, []);
   ```

6. **Error Handling:**
   - ??? ???? ???????? error boundaries
   - ??? ???? ???????? network error handling
   - ??? ???? ???????? loading states

---

## ???? **???????? ?????????????? ????????????????:**

### **1. Kernel & CognitiveLoop Initialization:**
- ??? ???? ???????? ???? ???????? ???????? ???? `kernel.init()`
- ??? ???? ???????? ???? ???????? ???????? ???? `cognitiveLoop.init(kernel)`
- ??? ???????????? ???? ???????? ????????????

### **2. API_BASE Configuration:**
- ??? ???????? ?????????????? ???????????? `localhost` ?????????? ???? IP address
- ??? ???? ???????? ?????? ???????? ??????????

### **3. Error Handling:**
- ??? ???? ???????? error handling ????????
- ??? ???? ???????? retry logic
- ??? ???? ???????? network error handling

### **4. Authentication Flow:**
- ??? ???? ???????? authentication check ???? Home
- ??? ???? ???????? proper token validation

---

## ??? **???????????? ????????????????:**

### **1. ?????????? Hook ???????? ?????? Initialization:**
```typescript
// mobile/hooks/useKernelInit.ts
export function useKernelInit() {
  useEffect(() => {
    const kernel = RAREKernel.getInstance();
    const cognitiveLoop = CognitiveLoop.getInstance();
    
    if (!kernel.state.initialized) {
      kernel.init().then(() => {
        kernel.start();
        cognitiveLoop.init(kernel);
      });
    }
  }, []);
}
```

### **2. ?????????? Config File:**
```typescript
// mobile/config/api.ts
export const API_BASE = __DEV__ 
  ? 'http://192.168.1.X:5000/api' // IP address
  : 'https://api.rare4n.com/api'; // Production
```

### **3. ?????????? Error Boundaries:**
```typescript
// mobile/components/ErrorBoundary.tsx
// React Error Boundary component
```

### **4. ?????????? Authentication Guard:**
```typescript
// mobile/hooks/useAuthGuard.ts
export function useAuthGuard() {
  useEffect(() => {
    const checkAuth = async () => {
      const token = await AsyncStorage.getItem('authToken');
      if (!token) {
        router.replace('/boot');
      }
    };
    checkAuth();
  }, []);
}
```

---

## ???? **????????????????:**

### **???? ?????????? (???????????? ?????????? ??????????????):**
1. ??? Kernel & CognitiveLoop initialization
2. ??? API_BASE configuration (IP address)
3. ??? CognitiveLoop import fix ???? login.tsx

### **???? ???????????? (???????????? ??????????????????):**
4. ??? Error handling
5. ??? Authentication guard
6. ??? Event subscriptions cleanup

### **???? ???????????? (??????????????):**
7. ??? Error boundaries
8. ??? Retry logic
9. ??? Loading states










